<svg id="schematic" width="1400" height="2380" viewBox="0 0 1400 2380" xmlns="http://www.w3.org/2000/svg">
            <defs>
                <marker id="arrow" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto" markerUnits="strokeWidth">
                    <polygon points="0 0, 10 3.5, 0 7" fill="#222222"/>
                </marker>
                <style>
                    .blk { fill: #fff; stroke: #222; stroke-width: 2; }
                    .t { font-family: Segoe UI, Roboto, Arial; fill: #111; }
                    .bold { font-weight: 600; }
                    .p24 { stroke: #8a2be2; }
                    .p5 { stroke: #c0392b; }
                    .pg { stroke: #777777; }
                    .sig { stroke: #222; }
                    .rail { stroke-width: 2; }
                    .term { fill: #eef6ff; stroke: #337ab7; stroke-width: 2; }
                    .box { fill: #fcfcfc; stroke: #dddddd; stroke-width: 2; }
                </style>
            </defs><rect x="20" y="20" width="1340" height="90" rx="6" fill="#f7f7f7" stroke="#cccccc" stroke-width="2"/><rect x="24" y="24" width="120" height="82" rx="4" fill="#ffffff" stroke="#bbbbbb" stroke-width="2"/><g class="draggable" data-component="text-0"><text x="84" y="65" class="t bold" font-size="16" text-anchor="middle" fill="#999999">
    LOGO
  </text></g><g class="draggable" data-component="text-1"><text x="40" y="55" class="t bold" font-size="24">
    Qorvo – Dispense Control System
  </text></g><g class="draggable" data-component="text-2"><text x="40" y="85" class="t" font-size="14">
    PLC • Solenoid • Output Device • Optocoupler • Pump Controller
  </text></g><g class="draggable" data-component="text-3"><text x="1040" y="55" class="t" font-size="14">
    Drawn by: David Strickland
  </text></g><g class="draggable" data-component="text-4"><text x="1040" y="80" class="t" font-size="14">Date: 2025-10-31</text></g><g class="draggable" data-component="text-5"><text x="40" y="236" class="t" font-size="12" fill="#8a2be2">
    +24V (purple)
  </text></g><g class="draggable" data-component="line-0"><line x1="160" y1="232" x2="1360" y2="232" class="p24 rail"/><circle class="line-handle" r="5" cx="160" cy="232" data-point="1"/><circle class="line-handle" r="5" cx="1360" cy="232" data-point="2"/></g><g class="draggable" data-component="text-6"><text x="40" y="170" class="t" font-size="12" fill="#c0392b">
    +5V (red) local to Pump/Opto side
  </text></g><g class="draggable" data-component="line-1"><line x1="280" y1="166" x2="1360" y2="166" class="p5 rail"/><circle class="line-handle" r="5" cx="280" cy="166" data-point="1"/><circle class="line-handle" r="5" cx="1360" cy="166" data-point="2"/></g><g class="draggable" data-component="text-7" transform="translate(6 276)"><text x="40" y="1026" class="t" font-size="12" fill="#777777">
    0V / GND (gray)
  </text></g><g class="draggable" data-component="line-2" transform="translate(-2 374)"><line x1="160" y1="1022" x2="1360" y2="1022" class="pg rail"/><circle class="line-handle" r="5" cx="160" cy="1022" data-point="1"/><circle class="line-handle" r="5" cx="1360" cy="1022" data-point="2"/></g><g class="draggable" data-component="component-0"><rect x="60" y="220" width="240" height="120" class="blk"/><circle class="resize-handle" r="6" cx="300" cy="340"/></g><g class="draggable" data-component="text-8"><text x="72" y="244" class="t bold" font-size="16">Solenoid Valve (24V)</text></g><g class="draggable" data-component="text-9"><text x="72" y="268" class="t" font-size="14">
    24V ON = Closed (No dispense)
  </text></g><g class="draggable" data-component="text-10"><text x="72" y="288" class="t" font-size="14">24V OFF = Open (Dispense)</text></g><g class="draggable" data-component="line-3"><line x1="180" y1="136" x2="180" y2="136" class="p24" stroke-width="2"/><circle class="line-handle" r="5" cx="180" cy="136" data-point="1"/><circle class="line-handle" r="5" cx="180" cy="136" data-point="2"/></g><g class="draggable" data-component="line-4"><line x1="180" y1="136" x2="180" y2="220" class="p24" stroke-width="2"/><circle class="line-handle" r="5" cx="180" cy="136" data-point="1"/><circle class="line-handle" r="5" cx="180" cy="220" data-point="2"/></g><g class="draggable" data-component="line-5"><line x1="180" y1="340" x2="180" y2="926" class="pg" stroke-width="2"/><circle class="line-handle" r="5" cx="180" cy="340" data-point="1"/><circle class="line-handle" r="5" cx="180" cy="926" data-point="2"/></g><g class="draggable" data-component="text-11"><text x="188" y="164" class="t" font-size="12" fill="#8a2be2">+24V</text></g><g class="draggable" data-component="text-12"><text x="188" y="332" class="t" font-size="12" fill="#777777">0V</text></g><g class="draggable" data-component="component-1"><rect x="60" y="380" width="240" height="100" class="blk"/><circle class="resize-handle" r="6" cx="300" cy="480"/></g><g class="draggable" data-component="text-13"><text x="72" y="404" class="t bold" font-size="16">Flow Sensor</text></g><g class="draggable" data-component="text-14"><text x="72" y="428" class="t" font-size="14">Pulse/Status → PLC DI</text></g><g class="draggable" data-component="component-2"><rect x="380" y="340" width="240" height="170" class="blk"/><circle class="resize-handle" r="6" cx="620" cy="510"/></g><g class="draggable" data-component="text-15"><text x="392" y="364" class="t bold" font-size="18">PLC</text></g><g class="draggable" data-component="text-16"><text x="392" y="388" class="t" font-size="14">
    Monitors 24V (solenoid state)
  </text></g><g class="draggable" data-component="text-17"><text x="392" y="408" class="t" font-size="14">Monitors Flow Sensor</text></g><g class="draggable" data-component="text-18"><text x="392" y="428" class="t" font-size="14">Drives Error Output</text></g><g class="draggable" data-component="component-3"><rect x="660" y="360" width="220" height="130" class="blk"/><circle class="resize-handle" r="6" cx="880" cy="490"/></g><g class="draggable" data-component="text-19"><text x="672" y="384" class="t bold" font-size="16">Output Device</text></g><g class="draggable" data-component="text-20"><text x="672" y="408" class="t" font-size="14">(24V Error Driver)</text></g><g class="draggable" data-component="component-4"><rect x="940" y="240" width="260" height="180" class="blk"/><circle class="resize-handle" r="6" cx="1200" cy="420"/></g><g class="draggable" data-component="text-21"><text x="952" y="264" class="t bold" font-size="16">Optocoupler Board</text></g><g class="draggable" data-component="text-22"><text x="952" y="288" class="t" font-size="14">IN+ / IN- (24V domain)</text></g><g class="draggable" data-component="text-23"><text x="952" y="308" class="t" font-size="14">
    OUT (open-collector, 5V domain)
  </text></g><g class="draggable" data-component="terminal-0"><rect x="954" y="496" width="90" height="60" class="term" rx="4"/><circle class="resize-handle" r="6" cx="1044" cy="556"/></g><g class="draggable" data-component="text-24"><text x="958" y="512" class="t bold" font-size="12">TB1</text></g><g class="draggable" data-component="text-25"><text x="958" y="530" class="t" font-size="12">1: IN+</text></g><g class="draggable" data-component="text-26"><text x="958" y="548" class="t" font-size="12">2: IN-</text></g><g class="draggable" data-component="terminal-1"><rect x="1100" y="500" width="100" height="76" class="term" rx="4"/><circle class="resize-handle" r="6" cx="1200" cy="576"/></g><g class="draggable" data-component="text-27"><text x="1104" y="516" class="t bold" font-size="12">TB2</text></g><g class="draggable" data-component="text-28"><text x="1104" y="534" class="t" font-size="12">1: OUT</text></g><g class="draggable" data-component="text-29"><text x="1104" y="550" class="t" font-size="12">2: GND</text></g><g class="draggable" data-component="text-30"><text x="1104" y="566" class="t" font-size="12">3: +5V</text></g><g class="draggable" data-component="line-6"><line x1="1180" y1="530" x2="1180" y2="510" class="sig" stroke-width="2"/><circle class="line-handle" r="5" cx="1180" cy="530" data-point="1"/><circle class="line-handle" r="5" cx="1180" cy="510" data-point="2"/></g><rect x="1162" y="488" width="36" height="22" rx="3" fill="#ffffff" stroke="#222222" stroke-width="2"/><g class="draggable" data-component="text-31"><text x="1180" y="503" class="t" font-size="10" text-anchor="middle">
    1.4kΩ
  </text></g><g class="draggable" data-component="line-7"><line x1="1180" y1="488" x2="1180" y2="166" class="p5" stroke-width="2"/><circle class="line-handle" r="5" cx="1180" cy="488" data-point="1"/><circle class="line-handle" r="5" cx="1180" cy="166" data-point="2"/></g><g class="draggable" data-component="text-32"><text x="1148" y="530" class="t" font-size="10">Pull-up to +5V</text></g><g class="draggable" data-component="component-5"><rect x="1260" y="500" width="140" height="80" class="blk"/><circle class="resize-handle" r="6" cx="1400" cy="580"/></g><g class="draggable" data-component="text-33"><text x="1270" y="524" class="t bold" font-size="16">Pump Controller</text></g><g class="draggable" data-component="text-34"><text x="1270" y="544" class="t" font-size="14">5V logic input</text></g><g class="draggable" data-component="terminal-2"><rect x="1260" y="590" width="120" height="80" class="term" rx="4"/><circle class="resize-handle" r="6" cx="1380" cy="670"/></g><g class="draggable" data-component="text-35"><text x="1264" y="606" class="t bold" font-size="12">TB3</text></g><g class="draggable" data-component="text-36"><text x="1264" y="624" class="t" font-size="12">1: IN</text></g><g class="draggable" data-component="text-37"><text x="1264" y="642" class="t" font-size="12">2: GND</text></g><g class="draggable" data-component="text-38"><text x="1264" y="660" class="t" font-size="12">3: +5V</text></g><g class="draggable" data-component="line-8"><line x1="300" y1="430" x2="380" y2="410" class="sig" stroke-width="2" marker-end="url(#arrow)"/><circle class="line-handle" r="5" cx="300" cy="430" data-point="1"/><circle class="line-handle" r="5" cx="380" cy="410" data-point="2"/></g><g class="draggable" data-component="text-39"><text x="372" y="402" class="t" font-size="12" text-anchor="end">
    Flow pulses / status
  </text></g><g class="draggable" data-component="line-9"><line x1="620" y1="540" x2="660" y2="512" class="sig" stroke-width="2" marker-end="url(#arrow)"/><circle class="line-handle" r="5" cx="620" cy="540" data-point="1"/><circle class="line-handle" r="5" cx="660" cy="512" data-point="2"/></g><g class="draggable" data-component="text-40"><text x="626" y="530" class="t" font-size="12">PLC error signal</text></g><g class="draggable" data-component="line-10"><line x1="880" y1="530" x2="954" y2="520" class="p24" stroke-width="3"/><circle class="line-handle" r="5" cx="880" cy="530" data-point="1"/><circle class="line-handle" r="5" cx="954" cy="520" data-point="2"/></g><g class="draggable" data-component="text-41"><text x="920" y="512" class="t" font-size="12">24V signal → TB1-1 (IN+)</text></g><g class="draggable" data-component="line-11"><line x1="954" y1="538" x2="954" y2="926" class="pg" stroke-width="2"/><circle class="line-handle" r="5" cx="954" cy="538" data-point="1"/><circle class="line-handle" r="5" cx="954" cy="926" data-point="2"/></g><g class="draggable" data-component="text-42"><text x="962" y="538" class="t" font-size="12">TB1-2 (IN-) → 0V</text></g><g class="draggable" data-component="line-12"><line x1="1180" y1="530" x2="1260" y2="624" class="sig" stroke-width="2" marker-end="url(#arrow)"/><circle class="line-handle" r="5" cx="1180" cy="530" data-point="1"/><circle class="line-handle" r="5" cx="1260" cy="624" data-point="2"/></g><g class="draggable" data-component="text-43"><text x="1200" y="570" class="t" font-size="11">OUT → Pump IN (TB3-1)</text></g><g class="draggable" data-component="line-13"><line x1="1140" y1="550" x2="1140" y2="926" class="pg" stroke-width="2"/><circle class="line-handle" r="5" cx="1140" cy="550" data-point="1"/><circle class="line-handle" r="5" cx="1140" cy="926" data-point="2"/></g><g class="draggable" data-component="text-44"><text x="1148" y="550" class="t" font-size="11">TB2-2 (GND) → 0V</text></g><g class="draggable" data-component="line-14"><line x1="1160" y1="566" x2="1160" y2="166" class="p5" stroke-width="2"/><circle class="line-handle" r="5" cx="1160" cy="566" data-point="1"/><circle class="line-handle" r="5" cx="1160" cy="166" data-point="2"/></g><g class="draggable" data-component="text-45"><text x="1168" y="566" class="t" font-size="11" fill="#c0392b">
    TB2-3 (+5V) → +5V
  </text></g><g class="draggable" data-component="line-15"><line x1="1300" y1="642" x2="1300" y2="926" class="pg" stroke-width="2"/><circle class="line-handle" r="5" cx="1300" cy="642" data-point="1"/><circle class="line-handle" r="5" cx="1300" cy="926" data-point="2"/></g><g class="draggable" data-component="text-46"><text x="1308" y="642" class="t" font-size="11">TB3-2 (GND) → 0V</text></g><g class="draggable" data-component="line-16"><line x1="1340" y1="660" x2="1340" y2="166" class="p5" stroke-width="2"/><circle class="line-handle" r="5" cx="1340" cy="660" data-point="1"/><circle class="line-handle" r="5" cx="1340" cy="166" data-point="2"/></g><g class="draggable" data-component="text-47"><text x="1348" y="660" class="t" font-size="11" fill="#c0392b">
    TB3-3 (+5V) → +5V
  </text></g><g class="draggable" data-component="text-48"><text x="960" y="632" class="t" font-size="11">
    Enable common-GND jumper if Pump +5V and Opto +5V are same supply
  </text></g><g class="draggable" data-component="info-box-0" transform="translate(7 259)"><rect x="60" y="668" width="580" height="170" class="box" rx="6"/><circle class="resize-handle" r="6" cx="640" cy="838"/></g><g class="draggable" data-component="text-49" transform="translate(7 259)"><text x="80" y="694" class="t bold" font-size="16">Logic Flow</text></g><g class="draggable" data-component="text-50" transform="translate(7 259)"><text x="92" y="722" class="t" font-size="13">
    1) Solenoid OFF → 24V LOW → PLC starts monitoring flow.
  </text></g><g class="draggable" data-component="text-51" transform="translate(7 259)"><text x="92" y="744" class="t" font-size="13">
    2) Missing flow → PLC asserts error → Output drives 24V HIGH.
  </text></g><g class="draggable" data-component="text-52" transform="translate(7 259)"><text x="92" y="766" class="t" font-size="13">
    3) 24V HIGH → Opto ON → OUT pulled LOW → Pump sees ERROR.
  </text></g><g class="draggable" data-component="text-53" transform="translate(7 259)"><text x="92" y="788" class="t" font-size="13">
    4) No error → 24V LOW → Opto OFF → OUT held HIGH (NORMAL).
  </text></g><g class="draggable" data-component="info-box-1" transform="translate(6 276)"><rect x="60" y="858" width="580" height="160" class="box" rx="6"/><circle class="resize-handle" r="6" cx="640" cy="1018"/></g><g class="draggable" data-component="text-54" transform="translate(6 276)"><text x="80" y="884" class="t bold" font-size="16">Truth / State Table</text></g><g class="draggable" data-component="text-55" transform="translate(6 276)"><text x="80" y="908" class="t bold" font-size="13">Condition</text></g><g class="draggable" data-component="text-56" transform="translate(6 276)"><text x="260" y="908" class="t bold" font-size="13">Output 24V</text></g><g class="draggable" data-component="text-57" transform="translate(6 276)"><text x="420" y="908" class="t bold" font-size="13">Opto OUT</text></g><g class="draggable" data-component="text-58" transform="translate(6 276)"><text x="540" y="908" class="t bold" font-size="13">Pump Input</text></g><g class="draggable" data-component="text-59" transform="translate(6 276)"><text x="80" y="930" class="t" font-size="13">ERROR (no flow)</text></g><g class="draggable" data-component="text-60" transform="translate(6 276)"><text x="260" y="930" class="t" font-size="13">HIGH (~24V)</text></g><g class="draggable" data-component="text-61" transform="translate(6 276)"><text x="420" y="930" class="t" font-size="13">LOW (~0V)</text></g><g class="draggable" data-component="text-62" transform="translate(6 276)"><text x="540" y="930" class="t" font-size="13">ERROR</text></g><g class="draggable" data-component="text-63" transform="translate(6 276)"><text x="80" y="954" class="t" font-size="13">NORMAL</text></g><g class="draggable" data-component="text-64" transform="translate(6 276)"><text x="260" y="954" class="t" font-size="13">LOW (~0V)</text></g><g class="draggable" data-component="text-65" transform="translate(6 276)"><text x="420" y="954" class="t" font-size="13">HIGH (~5V)</text></g><g class="draggable" data-component="text-66" transform="translate(6 276)"><text x="540" y="954" class="t" font-size="13">NORMAL</text></g><g class="draggable" data-component="info-box-2" transform="translate(-8 260)"><rect x="700" y="668" width="660" height="350" class="box" rx="6"/><circle class="resize-handle" r="6" cx="1360" cy="1018"/></g><g class="draggable" data-component="text-67" transform="translate(3 300)"><text x="720" y="694" class="t bold" font-size="16">Notes</text></g><g class="draggable" data-component="text-68" transform="translate(3 300)"><text x="720" y="722" class="t" font-size="13">
    • Use generic screw terminals for TB1 (IN+/IN-), TB2 (OUT/GND/+5V), TB3
    (IN/GND/+5V).
  </text></g><g class="draggable" data-component="text-69" transform="translate(3 300)"><text x="720" y="744" class="t" font-size="13">
    • Pull-up resistor is 1.4kΩ to +5V (faster edges, ~3.6 mA at 5V).
  </text></g><g class="draggable" data-component="text-70" transform="translate(3 300)"><text x="720" y="766" class="t" font-size="13">
    • OUT (open-collector) pulls LOW on error; Pump sees LOW = ERROR, HIGH =
    NORMAL.
  </text></g><g class="draggable" data-component="text-71" transform="translate(3 300)"><text x="720" y="788" class="t" font-size="13">
    • TB1-2 (IN-) and TB2-2 (GND) tie to 0V in their domains; optocoupler
    provides isolation.
  </text></g><g class="draggable" data-component="text-72" transform="translate(3 300)"><text x="720" y="810" class="t" font-size="13">
    • If Pump +5V and Opto +5V share the same supply, enable common-GND jumper
    on the opto board.
  </text></g><g class="draggable" data-component="text-73" transform="translate(3 300)"><text x="720" y="832" class="t" font-size="13">
    • Ensure PLC inputs reference the proper 0V when sensing 24V lines.
  </text></g></svg>